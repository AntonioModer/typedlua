\documentclass[12pt]{article}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}

\newcommand{\Any}{\mathbf{any}}
\newcommand{\Nil}{\mathbf{nil}}
\newcommand{\False}{\mathbf{false}}
\newcommand{\True}{\mathbf{true}}
\newcommand{\Boolean}{\mathbf{boolean}}
\newcommand{\Number}{\mathbf{number}}
\newcommand{\String}{\mathbf{string}}
\newcommand{\Void}{\mathbf{void}}

\newcommand{\mylabel}[1]{\; (\textsc{#1})}
\newcommand{\subtype}{<:}

\def\dstart{\hbox to \hsize{\vrule depth 4pt\hrulefill\vrule depth 4pt}}
\def\dend{\hbox to \hsize{\vrule height 4pt\hrulefill\vrule height 4pt}}

\title{Typed Lua Type System}

\author{AndrÃ© Murbach Maidl}

\begin{document}

\maketitle

\section{Type Language}

\textbf{Type Language}\\
\dstart
$$
\begin{array}{rlr}
T ::= & & \textit{first-class types}\\
& \;\; L & \textit{literal types}\\
& | \; B & \textit{base types}\\
& | \; \Any & \textit{dynamic type}\\
%& | \; T \cup T & \textit{union type}\\
%& | \; S \rightarrow S & \textit{function type}\\
%& | \; \{T:T, ..., T:T\} & \textit{table type}\\
%& | \; X & \textit{type variable}\\
%& | \; \mu X.T & \textit{recursive type}\\
L ::= & \Nil \; | \; \False \; | \; \True \; | \;
  {<}{\it number}{>} \; | \; {<}{\it string}{>} & \\
B ::= & \Boolean \; | \; \Number \; | \; \String & \\
%S ::= & \Void \; | \; V & \textit{second-class types}\\
%V ::= & \;\; T & \\
%& | \; T* & \textit{vararg type}\\
%& | \; T \times V & \textit{tuple type}
\end{array}
$$
\dend

\section{Subtyping}

\subsection{Literal types}

\[
L \subtype L
\mylabel{S-LITERAL}
\]

\[
\False \subtype \Boolean
\mylabel{S-FALSE}
\]

\[
\True \subtype \Boolean
\mylabel{S-TRUE}
\]

\[
{<}{\it number}{>} \subtype \Number
\mylabel{S-NUMBER}
\]

\[
{<}{\it string}{>} \subtype \String
\mylabel{S-STRING}
\]

\subsection{Base types}

\[
B \subtype B
\mylabel{S-BASE}
\]

\subsection{Dynamic type}

\[
\Any \subtype \Any
\mylabel{S-ANY}
\]

\section{Consistent-Subtyping}

\subsection{Literal types}

\[
L \lesssim L
\mylabel{C-LITERAL}
\]

\[
\False \lesssim \Boolean
\mylabel{C-FALSE}
\]

\[
\True \lesssim \Boolean
\mylabel{C-TRUE}
\]

\[
{<}{\it number}{>} \lesssim \Number
\mylabel{C-NUMBER}
\]

\[
{<}{\it string}{>} \lesssim \String
\mylabel{C-STRING}
\]

\subsection{Base types}

\[
B \lesssim B
\mylabel{C-BASE}
\]

\subsection{Dynamic type}

\[
T \lesssim \Any
\mylabel{C-ANY1}
\]

\[
\Any \lesssim T
\mylabel{C-ANY2}
\]

\end{document}
